<!DOCTYPE html>
<html lang="es">
<head>
<link rel="apple-touch-icon" sizes="180x180" href="assets/Casas/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="assets/Casas/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="assets/Casas/favicon-16x16.png">
<link rel="manifest" href="assets/Casas/site.webmanifest">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Temporizadores de Casas</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="bg-gray-900 p-4">
  
<!-- boton hamburguesa -->
<button onclick="toggleSidebar()" id="hamburgerBtn"
  class="fixed top-4 left-4 z-50 p-3 bg-gray-800 rounded-lg hover:bg-gray-700 focus:outline-none shadow-md">
  <svg class="w-6 h-6 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
    <path fill-rule="evenodd" d="M3 5h14a1 1 0 100-2H3a1 1 0 100 2zm14 4H3a1 1 0 000 2h14a1 1 0 100-2zm0 6H3a1 1 0 000 2h14a1 1 0 100-2z"
      clip-rule="evenodd" />
  </svg>
</button>

<!-- overlay de fondo -->
<div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" onclick="toggleSidebar()"></div>

<!-- Sidebar -->
<aside id="sidebar"
  class="fixed top-0 left-0 h-full w-64 bg-gray-900 text-white transform -translate-x-full transition-transform duration-300 ease-in-out z-40 shadow-lg">
  <div class="p-5 pt-16">
    <h2 class="text-xl font-bold mb-4">Men√∫</h2>
    <ul class="space-y-2">
      <li><a href="plantas.html" onclick="toggleSidebar()" class="block px-4 py-2 rounded hover:bg-gray-700">üïõ Timers</a></li>
      <li><a href="#" onclick="toggleSidebar()" class="block px-4 py-2 rounded hover:bg-gray-700">üå± Plantas</a></li>
      <li><a href="#" onclick="toggleSidebar()" class="block px-4 py-2 rounded hover:bg-gray-700">üó∫Ô∏è Mapa</a></li>
    </ul>
    <div class="mt-8 flex flex-col gap-2">
      <button onclick="exportarTimersUI();toggleSidebar();" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded shadow transition w-full">
        Exportar timers
      </button>
      <button onclick="mostrarImportarTimers();toggleSidebar();" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded shadow transition w-full">
        Importar timers
      </button>
      <button onclick="detenerTodosTimers();toggleSidebar();" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded shadow transition w-full">
        Detener todos
      </button>
    </div>
  </div>
</aside>

  <div class="text-right text-white mb-1 mr-0">
    <span class="text-sm font-mono">Hora server: <span id="hora-server"></span></span>
  </div>
    <h1 class="text-3xl font-bold text-center mb-6" style="color: azure;">
    Temporiz<span class="easter-egg" onclick="redirectToVideo()">a</span>dores de Casas
</h1>

<div class="flex justify-center mb-4 text-white">
  <label for="ciudad-filter" class="mr-2">Filtrar por ciudad:</label>
  <select id="ciudad-filter" onchange="aplicarFiltros()" class="bg-gray-800 text-white rounded px-2 py-1">
    <option value="Todas">Todas</option>
    <option value="Los Santos">Los Santos</option>
    <option value="San Fierro">San Fierro</option>
    <option value="Las Venturas">Las Venturas</option>
  </select>
</div>

<div class="flex items-center justify-center mb-4 gap-2 text-white">
  <label for="toggle-activos" class="text-sm">Mostrar solo activos</label>
  <label class="switch">
    <input type="checkbox" id="toggle-activos" onchange="aplicarFiltros()" />
    <span class="slider round"></span>
  </label>
</div>

<div class="text-center mb-4">
  <span class="text-white text-sm">Timers activos: <span id="contador-activos" class="text-green-400 font-bold">0</span></span>
</div>

<div id="cards" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="Los Santos" data-id="0" data-activo="false">
    <img src="/assets/Casas/Colinas.png" alt="Colinas" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">COLINAS</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">Colinas</h2>
      <p class="text-sm mb-2">Los Santos, Las Colinas</p>
      <div class="text-3xl font-mono mb-2" id="timer-0">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(0)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="Los Santos" data-id="1" data-activo="false">
    <img src="/assets/Casas/LOW.png" alt="Low" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">LOW</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">Low</h2>
      <p class="text-sm mb-2">Los Santos, Low</p>
      <div class="text-3xl font-mono mb-2" id="timer-1">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(1)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="Los Santos" data-id="2" data-activo="false">
    <img src="/assets/Casas/Corona.png" alt="Willow" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">CORONA</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">Willow</h2>
      <p class="text-sm mb-2">Los Santos, Corona</p>
      <div class="text-3xl font-mono mb-2" id="timer-2">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(2)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="San Fierro"  data-id="3" data-activo="false">
    <img src="/assets/Casas/C1.png" alt="C1" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">C1</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">C1</h2>
      <p class="text-sm mb-2">San Fierro, Garcia</p>
      <div class="text-3xl font-mono mb-2" id="timer-3">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(3)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="San Fierro" data-id="4" data-activo="false">
    <img src="/assets/Casas/C2.png" alt="C2" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">C2</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">C2</h2>
      <p class="text-sm mb-2">San Fierro, Garcia</p>
      <div class="text-3xl font-mono mb-2" id="timer-4">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(4)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="San Fierro" data-id="5" data-activo="false">
    <img src="/assets/Casas/C3.png" alt="C3" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">C3</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">C3</h2>
      <p class="text-sm mb-2">San Fierro, Ocean Flats</p>
      <div class="text-3xl font-mono mb-2" id="timer-5">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(5)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="San Fierro" data-id="6" data-activo="false">
    <img src="/assets/Casas/C4.png" alt="C4" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">C4</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">C4</h2>
      <p class="text-sm mb-2">San Fierro, Ocean Flats</p>
      <div class="text-3xl font-mono mb-2" id="timer-6">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(6)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="Las Venturas" data-id="7" data-activo="false">
    <img src="/assets/Casas/N1.png" alt="Norte 1" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">NORTE 1</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">Norte 1</h2>
      <p class="text-sm mb-2">Las Venturas, Prickle Pine</p>
      <div class="text-3xl font-mono mb-2" id="timer-7">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(7)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="Las Venturas" data-id="8" data-activo="false">
    <img src="/assets/Casas/N2.png" alt="Norte 2" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">NORTE 2</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">Norte 2</h2>
      <p class="text-sm mb-2">Las Venturas, Prickle Pine</p>
      <div class="text-3xl font-mono mb-2" id="timer-8">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(8)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="Las Venturas" data-id="9" data-activo="false">
    <img src="/assets/Casas/Sprunk.png" alt="Sprunk" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">SPRUNK</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">Sprunk</h2>
      <p class="text-sm mb-2">Las Venturas, Whitewood Estates</p>
      <div class="text-3xl font-mono mb-2" id="timer-9">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(9)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="Las Venturas" data-id="10" data-activo="false">
    <img src="/assets/Casas/Quebrados.png" alt="El Quebrados" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">EL QUEBRADOS</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">El Quebrados</h2>
      <p class="text-sm mb-2">Quebrados</p>
      <div class="text-3xl font-mono mb-2" id="timer-10">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(10)">Iniciar</button>
    </div>
  </div>
  
  <div class="relative card rounded-2xl overflow-hidden shadow-lg transition duration-300" data-ciudad="Las Venturas" data-id="11" data-activo="false">
    <img src="/assets/Casas/Cruze.png" alt="Cruce" class="card-bg h-48 w-full object-cover transition-transform duration-500" />
    <div class="absolute bottom-0 left-0 bg-black bg-opacity-60 text-white text-xs px-2 py-1 flex justify-center items-center w-full">
      <span class="font-bold text-custom-size">CRUCE</span>
    </div>
    <div class="absolute inset-0 overlay flex flex-col justify-center items-center text-white text-center p-4">
      <h2 class="text-xl font-bold mb-1">Cruce</h2>
      <p class="text-sm mb-2">Las Venturas / Los Santos</p>
      <div class="text-3xl font-mono mb-2" id="timer-11">35:00</div>
      <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600" onclick="startTimer(11)">Iniciar</button>
    </div>
  </div>
</div>

<!-- Elementos de audio -->
<audio id="alarm-sound" preload="auto">
  <source src="https://www.soundjay.com/button/beep-07.wav" type="audio/wav">
  <source src="/public/assets/Casas/beep.mp3" type="audio/mpeg">
</audio>
<audio id="alarma-unica-sound" src="/public/assets/Casas/sonid.mp3" preload="auto"></audio>

<script>
function actualizarHoraServer() {
  const now = new Date().toLocaleTimeString('en-CA', {
    timeZone: 'Canada/Eastern',
    hour12: false
  });
  document.getElementById('hora-server').textContent = now;
}

function redirectToVideo() {
  window.location.href = "https://www.youtube.com/watch?v=_dXsRTbCqDg&t=1s";
}

function toggleSidebar() {
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("overlay");
  
  sidebar.classList.toggle("-translate-x-full");
  overlay.classList.toggle("hidden");
}

// Inicializar reloj del servidor
setInterval(actualizarHoraServer, 1000);
actualizarHoraServer();
</script>

<script src="script.js"></script>
</body>
</html>
